# 📘 完全資料：チャットボット公開までの参考書（中学生向け・最新版）

この資料は、**GitHubアカウント作成 → データベース導入 → チャットボットのWeb公開**までを、  
**中学生でも理解できるレベル**で、最初から最後まで迷わず進められるように作った**完全ガイド**です。

> ✅ この手順通りに進めれば、**未経験でもチャットボットを公開できる**ように設計しています。

---

## 🧭 目次

1. 全体の流れ（地図）
2. 事前に用意するもの
3. GitHubアカウントの作成
4. GitHubリポジトリの作成
5. プロジェクト準備（PC内の確認）
6. MongoDB Atlas（無料DB）の作成
7. データベース接続設定（.env）
8. サーバーコードを書き換える（DB対応）
9. 既存FAQをDBに移す（移行）
10. ローカルで動作確認
11. GitHubへアップロード（Push）
12. AWS App RunnerでWeb公開
13. 公開後のテスト
14. DB運用方法の比較（費用・メリット・デメリット）
15. よくある失敗と対処法
16. 仕上げチェックリスト

---

# 1. 全体の流れ（地図）

```
Step1  GitHubアカウント作成
Step2  GitHubリポジトリ作成
Step3  MongoDB Atlas（無料DB）作成
Step4  .envにDB接続情報を書く
Step5  server.jsをDB対応に書き換え
Step6  FAQデータをDBに移行
Step7  ローカルで動作確認
Step8  GitHubにアップロード
Step9  AWS App RunnerでWeb公開
Step10 公開後のテスト
```

---

# 2. 事前に用意するもの

✅ 必要なもの
- パソコン（Windows）
- インターネット
- メールアドレス
- ブラウザ（Chrome推奨）

✅ あると安心
- メモ帳（パスワード控え用）
- 30分〜3時間程度の時間

---

# 3. GitHubアカウントの作成

## 3-1. 公式サイトへ
```
https://github.com
```

## 3-2. Sign up で登録
- メールアドレス
- パスワード
- ユーザー名（英数字）

## 3-3. メール認証
届いたメールの「Verify」をクリック

✅ ここまででGitHubアカウント完成

---

# 4. GitHubリポジトリの作成

## 4-1. 新しいリポジトリ作成
1. 右上の「＋」→「New repository」
2. Repository name: `faq-chatbot`
3. Public / Private → **Private推奨**
4. Create repository

✅ これでGitHubの「保存箱」ができた

---

# 5. プロジェクト準備（PC内の確認）

今のフォルダ構成：
```
ChatBot制作/
├── server.js
├── package.json
├── faq-data.json
└── public/
```

✅ **server.js があることを確認**

---

# 6. MongoDB Atlas（無料DB）の作成

## 6-1. MongoDB Atlasへアクセス
```
https://www.mongodb.com/cloud/atlas/register
```

## 6-2. アカウント作成
メール・名前・パスワードを入力

## 6-3. 無料プランを選ぶ
M0（FREE）を選択

## 6-4. 地域は Tokyo を選ぶ
`ap-northeast-1` を選択

✅ これで無料DBの箱が完成

---

# 7. データベース接続設定（.env）

## 7-1. 接続ユーザー作成
MongoDB Atlas画面で：
- ユーザー名: `admin`
- パスワード: 自分で決める（控える！）

## 7-2. IP許可（誰でもOK）
- `0.0.0.0/0` を許可

## 7-3. 接続文字列をコピー
例：
```
mongodb+srv://admin:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority
```

## 7-4. .env を作る
プロジェクト直下に `.env` を作成し、以下を書く：

```
MONGODB_URI=mongodb+srv://admin:あなたのパスワード@cluster0.xxxxx.mongodb.net/chatbot?retryWrites=true&w=majority
PORT=3000
```

✅ `<password>` を自分のパスワードに置き換える

---

# 8. サーバーコードを書き換える（DB対応）

## 8-1. サンプルを使う（簡単）
作成済みの **`server_with_database.js`** を開いて、
中身を **`server.js` にコピー貼り付け** します。

✅ これでサーバーがDB対応になる

---

# 9. 既存FAQをDBに移す（移行）

## 9-1. 移行用ファイルを作成
`migrate-data.js` を作成（Part2参照）

## 9-2. 実行
```
node migrate-data.js
```

✅ FAQがDBに移動される

---

# 10. ローカルで動作確認

```
npm start
```

### 確認URL
- チャットボット: http://localhost:3000/chatbot.html
- 管理画面: http://localhost:3000/admin.html

✅ FAQが表示されればOK

---

# 11. GitHubへアップロード

```
git init
git add .
git commit -m "DB対応"
git remote add origin https://github.com/ユーザー名/faq-chatbot.git
git push -u origin main
```

---

# 12. AWS App RunnerでWeb公開

## 12-1. App Runnerでサービス作成
- GitHub連携
- リポジトリを選択
- 自動デプロイをON

## 12-2. 環境変数を設定
```
MONGODB_URI=（.envと同じ）
PORT=3000
```

## 12-3. デプロイ完了
URLが発行される

---

# 13. 公開後のテスト

✅ チャットボットURLにアクセス  
✅ 管理画面URLにアクセス  
✅ FAQ追加・編集・削除ができるか確認

---

# 14. DB運用方法の比較（費用・メリット・デメリット）

| 方法 | 費用 | メリット | デメリット |
|------|------|---------|-----------|
| スプレッドシート | 無料 | 簡単 | 重い・衝突 |
| MongoDB Atlas | 無料枠 | 安定・拡張性 | 初期設定 |
| AWS RDS | 1年無料→有料 | 信頼性 | 費用 |
| DynamoDB | 従量 | 高速 | 設計難 |
| Supabase | 無料枠 | 多機能 | 英語UI |

✅ **おすすめ: MongoDB Atlas**

---

# 15. よくある失敗と対処法

## DB接続エラー
→ `.env` のパスワードを確認

## ポート使用中
→ `PORT=3001` に変更

## FAQが表示されない
→ `node migrate-data.js` 再実行

---

# 16. 仕上げチェックリスト

✅ GitHubアカウント作成  
✅ MongoDB Atlas 作成  
✅ .env 作成  
✅ server.js 書き換え  
✅ DB移行  
✅ ローカル確認  
✅ GitHubへPush  
✅ AWS App Runner公開  
✅ 公開後のテスト完了  

---

## 🎉 完成！

お疲れ様でした！  
このガイド通りに進めれば、未経験でも必ず完成します。

わからない部分があれば、どこでも質問してください。

