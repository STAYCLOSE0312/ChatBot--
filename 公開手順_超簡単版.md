# 🌐 チャットボットを無料で公開する方法（超簡単版）

## 📋 準備するもの

- ✅ GitHubアカウント（無料）
- ✅ Renderアカウント（無料）
- ✅ 5分〜10分の時間

---

## 🚀 ステップ1: GitHubにコードをアップロード

### 1-1. GitHubアカウントを作成（まだの場合）

1. ブラウザで https://github.com を開く
2. 右上の「Sign up」をクリック
3. メールアドレス、パスワード、ユーザー名を入力
4. 「Create account」をクリック
5. メール認証を完了

### 1-2. GitHubでリポジトリ（保存場所）を作成

1. GitHubにログインした状態で、右上の「+」マークをクリック
2. 「New repository」をクリック
3. 以下のように入力：
   - **Repository name**: `faq-chatbot`（好きな名前でOK）
   - **Description**: `FAQチャットボット`（空欄でもOK）
   - **Public** にチェック（無料プランでは必須）
   - **Add a README file** はチェックしない
4. 一番下の「Create repository」をクリック

### 1-3. VS Codeでコードをアップロード

**VS Codeのターミナルを開く**（下部のターミナルタブ）

以下のコマンドを**1つずつ**実行してください：

```bash
# ステップ1: Gitを初期化
git init
```

```bash
# ステップ2: ファイルを追加
git add .
```

```bash
# ステップ3: コミット（保存）
git commit -m "初回アップロード"
```

```bash
# ステップ4: GitHubのリポジトリを接続
# ⚠️ YOUR_USERNAME をあなたのGitHubユーザー名に置き換えてください！
git remote add origin https://github.com/YOUR_USERNAME/faq-chatbot.git
```

**例**: ユーザー名が `tanaka` の場合
```bash
git remote add origin https://github.com/tanaka/faq-chatbot.git
```

```bash
# ステップ5: コードをアップロード
git branch -M main
git push -u origin main
```

**GitHubのユーザー名とパスワードを聞かれたら入力**

✅ **完了**: GitHubのページをリフレッシュすると、ファイルが表示されます！

---

## 🌐 ステップ2: RenderでWebサービスを作成

### 2-1. Renderアカウントを作成

1. ブラウザで https://render.com を開く
2. 右上の「Get Started for Free」をクリック
3. 「Continue with GitHub」をクリック（推奨）
4. GitHubアカウントでログインを許可

### 2-2. 新しいWebサービスを作成

1. Renderのダッシュボードで、左上の「New +」ボタンをクリック
2. 「Web Service」をクリック
3. 「Connect account」をクリック（まだGitHubと接続していない場合）
4. GitHubアカウントを選択して「Authorize Render」をクリック
5. 作成したリポジトリ（`faq-chatbot`）を探してクリック
6. 「Connect」をクリック

### 2-3. 設定を入力

以下のように入力してください：

| 項目 | 入力内容 |
|------|---------|
| **Name** | `faq-chatbot`（好きな名前でOK） |
| **Region** | `Singapore`（日本に近い） |
| **Branch** | `main`（そのまま） |
| **Root Directory** | （空白のまま） |
| **Runtime** | `Node`（自動選択される） |
| **Build Command** | `npm install` |
| **Start Command** | `npm start` |

### 2-4. 環境変数を設定

「Environment Variables」のセクションで、「Add Environment Variable」をクリックして、**3つ**追加します：

**1つ目:**
- **Key**: `GOOGLE_SHEETS_SPREADSHEET_ID`
- **Value**: `1QrMLgr-Ws3y4eA3ad2JyjRicDRzP5oTyKl6u9mHRbDE`
- 「Save」をクリック

**2つ目:**
- **Key**: `GOOGLE_SERVICE_ACCOUNT_PATH`
- **Value**: `./credentials/google-service-account.json.json`
- 「Save」をクリック

**3つ目:**
- **Key**: `PORT`
- **Value**: `3000`
- 「Save」をクリック

### 2-5. デプロイ開始

1. 一番下の「Create Web Service」をクリック
2. デプロイが開始されます（5〜10分かかります）
3. 「Logs」タブで進行状況を確認できます

✅ **完了**: 「Live」というリンクが表示されたら成功です！

---

## 🔐 ステップ3: 認証情報ファイルをアップロード

**重要**: 認証情報ファイルはGitHubにアップロードされないため、Renderに直接アップロードする必要があります。

### 3-1. ローカルの認証情報ファイルを開く

1. VS Codeで `credentials/google-service-account.json.json` を開く
2. ファイルの内容を**全てコピー**（Ctrl+A → Ctrl+C）

### 3-2. Renderのシェルでアップロード

1. Renderのダッシュボードで、作成したサービスを開く
2. 左側のメニューから「Shell」タブをクリック
3. 「Open Shell」をクリック
4. 以下のコマンドを実行：

```bash
mkdir -p credentials
```

5. 次に、以下のコマンドを実行（`nano`エディタが開きます）：

```bash
nano credentials/google-service-account.json.json
```

6. **コピーした認証情報の内容を貼り付け**（右クリック → Paste）
7. **Ctrl + X** を押す
8. **Y** を押す（保存確認）
9. **Enter** を押す（ファイル名確認）

### 3-3. デプロイを再実行

1. Renderのダッシュボードに戻る
2. 右上の「Manual Deploy」→「Deploy latest commit」をクリック
3. デプロイが完了するまで待つ（5〜10分）

---

## ✅ ステップ4: 動作確認

### 4-1. 公開URLを確認

Renderのダッシュボードで、「Live」リンクをクリックすると、以下のようなURLが表示されます：

```
https://faq-chatbot.onrender.com
```

### 4-2. チャットボットにアクセス

ブラウザで以下のURLにアクセス：

- **チャットボット**: `https://faq-chatbot.onrender.com/chatbot.html`
- **管理画面**: `https://faq-chatbot.onrender.com/admin.html`

✅ **完了**: チャットボットが表示されれば成功です！

---

## 🎉 完了！

これで、世界中の誰でもアクセスできるチャットボットが公開されました！

### 📝 公開URLの共有方法

友達やお客様に以下のURLを共有できます：

```
https://faq-chatbot.onrender.com/chatbot.html
```

---

## ⚠️ よくある問題と解決方法

### 問題1: 「Build failed」と表示される

**解決方法**:
- 「Logs」タブでエラー内容を確認
- 環境変数が正しく設定されているか確認
- `package.json`に必要なパッケージが全て含まれているか確認

### 問題2: 「Google Sheets API接続エラー」と表示される

**解決方法**:
- 環境変数が正しく設定されているか確認
- 認証情報ファイルが正しくアップロードされているか確認
- Google Sheets APIが有効化されているか確認（Google Cloud Console）

### 問題3: 最初のアクセスが遅い（30秒くらいかかる）

**原因**: Renderの無料プランでは、15分間アクセスがないと自動的にスリープします。

**解決方法**:
- スリープ後、最初のアクセス時に約30秒かかります
- これは無料プランの制限です
- 有料プランにアップグレードすると、常時起動できます

### 問題4: Gitコマンドでエラーが出る

**解決方法**:
- GitHubのユーザー名とパスワードが正しいか確認
- リポジトリ名が正しいか確認
- VS Codeのターミナルで、プロジェクトフォルダにいるか確認

---

## 💡 補足情報

### 無料プランの制限

- ✅ 完全無料
- ✅ HTTPS対応（自動）
- ⚠️ 15分間アクセスがないとスリープ
- ⚠️ スリープ後、最初のアクセス時に約30秒かかる

### 有料プランにアップグレードする場合

- 常時起動（スリープなし）
- カスタムドメイン対応
- より高速なパフォーマンス

---

## 📞 サポート

問題が解決しない場合は、以下を確認してください：

1. Renderの「Logs」タブでエラー内容を確認
2. GitHubのリポジトリにファイルが正しくアップロードされているか確認
3. 環境変数が正しく設定されているか確認

---

**作成日**: 2025年1月
**バージョン**: 1.0.0
